This was originally developed as a PR for CodeCompanion. For previous commits, see [PR #2281](https://github.com/olimorris/codecompanion.nvim/pull/2281).
